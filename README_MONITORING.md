# üìä –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install prometheus_client sentry-sdk
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config_local.py`:**
   ```python
   # –í–∫–ª—é—á–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   ENABLE_SENTRY = True
   SENTRY_DSN = "https://your-dsn@sentry.io/project-id"

   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Prometheus
   PROMETHEUS_PORT = 8000

   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   ENABLE_DEVELOPER_NOTIFICATIONS = True
   DEVELOPER_CHAT_ID = 123456789
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   python new_bot.py
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏:**
   - Prometheus: http://localhost:8000/metrics
   - Sentry: https://sentry.io (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DSN)
   - –õ–æ–≥–∏: `bot.log`

## üìà –ú–µ—Ç—Ä–∏–∫–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- `telegram_bot_errors_total` - –æ—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º
- `telegram_bot_command_duration_seconds` - –≤—Ä–µ–º—è –∫–æ–º–∞–Ω–¥
- `telegram_bot_active_users` - –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `telegram_bot_messages_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- `telegram_bot_status` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞

## üîî –ê–ª–µ—Ä—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏:
- –í—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç–µ –æ—à–∏–±–æ–∫ (>10 –≤ –º–∏–Ω—É—Ç—É)
- –ü–∞–¥–µ–Ω–∏–∏ –±–æ—Ç–∞
- –ú–µ–¥–ª–µ–Ω–Ω–æ–º –æ—Ç–∫–ª–∏–∫–µ (>5 —Å–µ–∫—É–Ω–¥)
- –ü—Ä–æ–±–ª–µ–º–∞—Ö —Å –ë–î

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram, email –∏ webhook.

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `MONITORING.md`:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
- Troubleshooting

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pytest tests/test_monitoring.py -v
```

---

*–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ*